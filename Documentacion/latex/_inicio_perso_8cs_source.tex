\doxysection{Inicio\+Perso.\+cs}
\hypertarget{_inicio_perso_8cs_source}{}\label{_inicio_perso_8cs_source}\index{Assets/Script/InicioPerso.cs@{Assets/Script/InicioPerso.cs}}
\mbox{\hyperlink{_inicio_perso_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00001}00001\ \textcolor{comment}{//\ Importamos\ el\ espacio\ de\ nombres\ de\ Unity}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00002}00002\ \textcolor{keyword}{using\ }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00004}00004\ \textcolor{comment}{//\ Esta\ clase\ gestiona\ la\ aparición\ o\ instanciacion\ del\ personaje\ elegido\ al\ iniciar\ la\ escena}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00005}\mbox{\hyperlink{class_aparicion_personaje}{00005}}\ \textcolor{keyword}{public}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_aparicion_personaje}{AparicionPersonaje}}\ :\ MonoBehaviour}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00006}00006\ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00007}00007\ \ \ \ \ \textcolor{comment}{//\ Arreglo\ de\ prefabs\ de\ personajes\ disponibles\ para\ el\ jugador}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00008}\mbox{\hyperlink{class_aparicion_personaje_ab03885d56e82db222f851f974ce15643}{00008}}\ \ \ \ \ \textcolor{keyword}{public}\ GameObject[]\ \mbox{\hyperlink{class_aparicion_personaje_ab03885d56e82db222f851f974ce15643}{personajes}};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00010}00010\ \ \ \ \ \textcolor{comment}{//\ Punto\ en\ la\ escena\ donde\ aparecerá\ el\ personaje}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00011}\mbox{\hyperlink{class_aparicion_personaje_a4de4b1603a7a7eb86569c660f8c2e100}{00011}}\ \ \ \ \ \textcolor{keyword}{public}\ Transform\ \mbox{\hyperlink{class_aparicion_personaje_a4de4b1603a7a7eb86569c660f8c2e100}{puntoAparicion}};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00013}00013\ \ \ \ \ \textcolor{comment}{//\ Referencia\ al\ joystick\ (control\ táctil\ para\ mover\ al\ personaje)}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00014}\mbox{\hyperlink{class_aparicion_personaje_a89f60862111227897dd0a3e1fd0109df}{00014}}\ \ \ \ \ \textcolor{keyword}{public}\ Joystick\ \mbox{\hyperlink{class_aparicion_personaje_a89f60862111227897dd0a3e1fd0109df}{joystick}};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00016}00016\ \ \ \ \ \textcolor{comment}{//\ Referencia\ a\ la\ cámara\ del\ juego\ que\ debe\ seguir\ al\ personaje}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00017}\mbox{\hyperlink{class_aparicion_personaje_adce94405f233ab9d09152470f7b1cc87}{00017}}\ \ \ \ \ \textcolor{keyword}{public}\ GameObject\ \mbox{\hyperlink{class_aparicion_personaje_adce94405f233ab9d09152470f7b1cc87}{camara}};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00019}00019\ \ \ \ \ \textcolor{comment}{//\ Método\ Start\ que\ se\ ejecuta\ automáticamente\ al\ iniciar\ la\ escena}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00020}00020\ \ \ \ \ \textcolor{keywordtype}{void}\ Start()}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00021}00021\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00022}00022\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Validación:\ Verifica\ si\ el\ arreglo\ de\ personajes\ está\ vacío\ o\ no\ fue\ asignado}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00023}00023\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_aparicion_personaje_ab03885d56e82db222f851f974ce15643}{personajes}}\ ==\ \textcolor{keyword}{null}\ ||\ \mbox{\hyperlink{class_aparicion_personaje_ab03885d56e82db222f851f974ce15643}{personajes}}.Length\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00024}00024\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogError(\textcolor{stringliteral}{"{}El\ array\ de\ personajes\ está\ vacío\ o\ no\ está\ asignado\ en\ el\ Inspector."{}});}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00027}00027\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00029}00029\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Validación:\ Verifica\ si\ se\ asignó\ el\ punto\ de\ aparición}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00030}00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_aparicion_personaje_a4de4b1603a7a7eb86569c660f8c2e100}{puntoAparicion}}\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00031}00031\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogError(\textcolor{stringliteral}{"{}El\ punto\ de\ aparición\ no\ está\ asignado\ en\ el\ Inspector."{}});}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00034}00034\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00036}00036\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Obtiene\ el\ índice\ del\ personaje\ guardado\ con\ PlayerPrefs,\ por\ defecto\ 0\ si\ no\ existe}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ indicePersonaje\ =\ PlayerPrefs.GetInt(\textcolor{stringliteral}{"{}PersonajeSeleccionado"{}},\ 0);}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00038}00038\ \ \ \ \ \ \ \ \ Debug.Log(\textcolor{stringliteral}{"{}Índice\ recuperado\ de\ PlayerPrefs:\ "{}}\ +\ indicePersonaje);}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Validación:\ Verifica\ que\ el\ índice\ esté\ dentro\ de\ los\ límites\ del\ arreglo}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (indicePersonaje\ <\ 0\ ||\ indicePersonaje\ >=\ \mbox{\hyperlink{class_aparicion_personaje_ab03885d56e82db222f851f974ce15643}{personajes}}.Length)}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00042}00042\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogError(\textcolor{stringliteral}{"{}Índice\ del\ personaje\ fuera\ de\ rango:\ "{}}\ +\ indicePersonaje);}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00045}00045\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00047}00047\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Instancia\ el\ personaje\ seleccionado\ en\ la\ posición\ y\ rotación\ definidas}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00048}00048\ \ \ \ \ \ \ \ \ GameObject\ personajeInstanciado\ =\ Instantiate(\mbox{\hyperlink{class_aparicion_personaje_ab03885d56e82db222f851f974ce15643}{personajes}}[indicePersonaje],\ \mbox{\hyperlink{class_aparicion_personaje_a4de4b1603a7a7eb86569c660f8c2e100}{puntoAparicion}}.position,\ Quaternion.identity);}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Asegura\ que\ el\ personaje\ tenga\ una\ escala\ normal\ (evita\ deformaciones)}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00051}00051\ \ \ \ \ \ \ \ \ personajeInstanciado.transform.localScale\ =\ Vector3.one;}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00053}00053\ \ \ \ \ \ \ \ \ Debug.Log(\textcolor{stringliteral}{"{}Personaje\ instanciado\ en:\ "{}}\ +\ personajeInstanciado.transform.position);}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Asigna\ el\ joystick\ al\ personaje\ si\ tiene\ el\ componente\ PlayerController}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00056}00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_player_controller}{PlayerController}}\ playerController\ =\ personajeInstanciado.GetComponent<\mbox{\hyperlink{class_player_controller}{PlayerController}}>();}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00057}00057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (playerController\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00058}00058\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ playerController.joystick\ =\ \mbox{\hyperlink{class_aparicion_personaje_a89f60862111227897dd0a3e1fd0109df}{joystick}};}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00060}00060\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00061}00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00062}00062\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogWarning(\textcolor{stringliteral}{"{}El\ personaje\ instanciado\ no\ tiene\ un\ PlayerController."{}});}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00064}00064\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00066}00066\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Configura\ la\ cámara\ para\ que\ siga\ al\ personaje\ instanciado\ en\ todo\ el\ juego}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_aparicion_personaje_adce94405f233ab9d09152470f7b1cc87}{camara}}\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00068}00068\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_camara}{Camara}}\ camaraScript\ =\ \mbox{\hyperlink{class_aparicion_personaje_adce94405f233ab9d09152470f7b1cc87}{camara}}.GetComponent<\mbox{\hyperlink{class_camara}{Camara}}>();}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (camaraScript\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ camaraScript.Player2\ =\ personajeInstanciado;}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Debug.Log(\textcolor{stringliteral}{"{}La\ cámara\ sigue\ al\ personaje\ correctamente."{}});}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogError(\textcolor{stringliteral}{"{}No\ se\ encontró\ el\ script\ de\ la\ cámara\ en\ el\ objeto\ asignado."{}});}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00079}00079\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00080}00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00081}00081\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogError(\textcolor{stringliteral}{"{}La\ referencia\ de\ la\ cámara\ no\ está\ asignada\ en\ el\ Inspector."{}});}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00083}00083\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00084}00084\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_inicio_perso_8cs_source_l00085}00085\ \}}

\end{DoxyCode}
